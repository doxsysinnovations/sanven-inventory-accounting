import{r as a,m as F,j as e,L as U}from"./app-DOUPXsiX.js";import{A as _}from"./app-layout-PY3kmcwW.js";import{I as S}from"./input-Bbm0gJlk.js";import{T as q,a as G,b as m,c as d,d as J,e as n}from"./table-BLRovgye.js";import{B as t}from"./app-logo-icon-CsPC_L6o.js";import{P as K}from"./layout-Bux1G0Ip.js";import{H as Q}from"./heading-small-BPxtPpy9.js";import{D as b,a as V,b as D,c as y,d as B,e as W,f as X}from"./dialog-G8VnJk0B.js";import{L as Y,y as u}from"./ReactToastify-CBCxvM_K.js";import{S as Z}from"./status-switch-Du_LaTWg.js";import"./index-BU479ty5.js";import"./index-CsK4GaqG.js";import"./index-C7y8VOSW.js";const $=[{title:"Manage Brands",href:"/brands"}];function xe({brands:v}){const[h,N]=a.useState(""),[x,ee]=a.useState("all"),[C,l]=a.useState(!1),[w,r]=a.useState(!1),[T,j]=a.useState(null),[i,c]=a.useState(null),{data:L,setData:p,post:I,put:A,processing:E,errors:f,reset:o,delete:O}=F({name:""}),k=s=>{s.preventDefault(),i?A(route("brands.update",i.id),{onSuccess:()=>{l(!1),o(),c(null),u.success("Brand updated successfully")}}):I(route("brands.store"),{onSuccess:()=>{l(!1),o(),u.success("Brand created successfully")}})},H=s=>{c(s),p("name",s.name),l(!0)},z=s=>{j(s),r(!0)},M=()=>{O(route("brands.destroy",T.id),{onSuccess:()=>{r(!1),j(null),u.success("Brand deleted successfully")}})},g=v.filter(s=>{const P=s.name.toLowerCase().includes(h.toLowerCase()),R=x==="all"||s.status.toLowerCase()===x;return P&&R});return e.jsxs(_,{breadcrumbs:$,children:[e.jsx(U,{title:"Manage Brands"}),e.jsxs(K,{children:[e.jsx(Y,{}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Q,{title:"Brands Lists",description:"See all brands here"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx(S,{type:"text",placeholder:"Search brands...",value:h,onChange:s=>N(s.target.value),className:"w-1/3"}),e.jsxs(b,{open:C,onOpenChange:l,children:[e.jsx(V,{asChild:!0,children:e.jsx(t,{onClick:()=>{c(null),o()},children:"Add Brand"})}),e.jsxs(D,{children:[e.jsx(y,{children:e.jsx(B,{children:i?"Edit Brand":"Add New Brand"})}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsx(S,{placeholder:"Brand name",value:L.name,onChange:s=>p("name",s.target.value)}),f.name&&e.jsx("div",{className:"text-red-500 text-sm",children:f.name}),e.jsx(t,{type:"submit",disabled:E,children:i?"Update":"Create"})]})]})]})]}),e.jsx(b,{open:w,onOpenChange:r,children:e.jsxs(D,{children:[e.jsxs(y,{children:[e.jsx(B,{children:"Delete Brand"}),e.jsx(W,{children:"Are you sure you want to delete this brand? This action cannot be undone."})]}),e.jsxs(X,{children:[e.jsx(t,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),e.jsx(t,{variant:"destructive",onClick:M,children:"Delete"})]})]})}),e.jsx("div",{className:"border rounded-xl overflow-hidden shadow",children:e.jsxs(q,{children:[e.jsx(G,{children:e.jsxs(m,{className:"bg-gray-100",children:[e.jsx(d,{className:"font-semibold",children:"ID"}),e.jsx(d,{className:"font-semibold",children:"Name"}),e.jsx(d,{className:"font-semibold",children:"Status"}),e.jsx(d,{className:"font-semibold text-center w-[10%]",children:"Action"})]})}),e.jsx(J,{children:g.length>0?g.map(s=>e.jsxs(m,{children:[e.jsx(n,{children:s.id}),e.jsx(n,{children:s.name}),e.jsx(n,{children:e.jsx(Z,{model:"Brand",recordId:s.id,initialStatus:s.is_active})}),e.jsx(n,{className:"text-right",children:e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(t,{variant:"outline",size:"sm",onClick:()=>H(s),children:"Edit"}),e.jsx(t,{variant:"destructive",size:"sm",onClick:()=>z(s),children:"Delete"})]})})]},s.id)):e.jsx(m,{children:e.jsx(n,{colSpan:"4",className:"text-center py-4",children:"No brands found."})})})]})})]})]})]})]})}export{xe as default};
